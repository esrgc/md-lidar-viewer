!function(a){var b=function(){var b=a.documentMode;return"onhashchange"in a&&(void 0===b||b>7)}();L.Hash=function(a){this.onHashChange=L.Util.bind(this.onHashChange,this),a&&this.init(a)},L.Hash.parseHash=function(a){0===a.indexOf("#")&&(a=a.substr(1));var b=a.split("/");if(3==b.length){var c=parseInt(b[0],10),d=parseFloat(b[1]),e=parseFloat(b[2]);return isNaN(c)||isNaN(d)||isNaN(e)?!1:{center:new L.LatLng(d,e),zoom:c}}return!1},L.Hash.formatHash=function(a){var b=a.getCenter(),c=a.getZoom(),d=Math.max(0,Math.ceil(Math.log(c)/Math.LN2));return"#"+[c,b.lat.toFixed(d),b.lng.toFixed(d)].join("/")},L.Hash.prototype={map:null,lastHash:null,parseHash:L.Hash.parseHash,formatHash:L.Hash.formatHash,init:function(a){this.map=a,this.lastHash=null,this.onHashChange(),this.isListening||this.startListening()},removeFrom:function(){this.changeTimeout&&clearTimeout(this.changeTimeout),this.isListening&&this.stopListening(),this.map=null},onMapMove:function(){if(this.movingMap||!this.map._loaded)return!1;var a=this.formatHash(this.map);this.lastHash!=a&&(location.replace(a),this.lastHash=a)},movingMap:!1,update:function(){var a=location.hash;if(a!==this.lastHash){var b=this.parseHash(a);b?(this.movingMap=!0,this.map.setView(b.center,b.zoom,{animate:!1}),this.movingMap=!1):this.onMapMove(this.map)}},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var a=this;this.changeTimeout=setTimeout(function(){a.update(),a.changeTimeout=null},this.changeDefer)}},isListening:!1,hashChangeInterval:null,startListening:function(){this.map.on("moveend",this.onMapMove,this),b?L.DomEvent.addListener(a,"hashchange",this.onHashChange):(clearInterval(this.hashChangeInterval),this.hashChangeInterval=setInterval(this.onHashChange,50)),this.isListening=!0},stopListening:function(){this.map.off("moveend",this.onMapMove,this),b?L.DomEvent.removeListener(a,"hashchange",this.onHashChange):clearInterval(this.hashChangeInterval),this.isListening=!1}},L.hash=function(a){return new L.Hash(a)},L.Map.prototype.addHash=function(){this._hash=L.hash(this)},L.Map.prototype.removeHash=function(){this._hash.removeFrom()}}(window),function(a){if("function"==typeof bootstrap)bootstrap("leafletpip",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeLeafletPip=a}else"undefined"!=typeof window?window.leafletPip=a():global.leafletPip=a()}(function(){return function(a,b,c){function d(c,e){if(!b[c]){if(!a[c]){var f="function"==typeof require&&require;if(!e&&f)return f(c,!0);throw new Error("Cannot find module '"+c+"'")}var g=b[c]={exports:{}};a[c][0](function(b){var e=a[c][1][b];return d(e?e:b)},g,g.exports)}return b[c].exports}for(var e=0;e<c.length;e++)d(c[e]);return d}({1:[function(a,b){function c(a){for(var b=[],c=0;c<a.length;c++)b[c]=[a[c].lng,a[c].lat];return b}function d(a,b){for(var e=0;e<a.length;e++){var f=a[e];f[0]instanceof L.LatLng?b.push(c(f)):d(f,b)}return b}var e=a("point-in-polygon"),f={bassackwards:!1,pointInLayer:function(a,b,c){"use strict";if(!(b instanceof L.GeoJSON))throw new Error("must be L.GeoJSON");a instanceof L.LatLng&&(a=[a.lng,a.lat]),f.bassackwards&&a.reverse();var g=[];return b.eachLayer(function(b){if(!c||!g.length)for(var f=b.getLatLngs(),h=d(f,[]),i=0;i<h.length;i++)e(a,h[i])&&g.push(b)}),g}};b.exports=f},{"point-in-polygon":2}],2:[function(a,b){b.exports=function(a,b){for(var c=a[0],d=a[1],e=!1,f=0,g=b.length-1;f<b.length;g=f++){var h=b[f][0],i=b[f][1],j=b[g][0],k=b[g][1],l=i>d!=k>d&&(j-h)*(d-i)/(k-i)+h>c;l&&(e=!e)}return e}},{}]},{},[1])(1)}),L.Control.LayersCustom=L.Control.Layers.extend({addTo:function(a,b){this._map=a;var c=this._container=this.onAdd(a);return L.DomUtil.addClass(c,"leaflet-control"),b.appendChild(c),this},initialize:function(a,b,c){L.setOptions(this,c),this._layers={},this._lastZIndex=0,this._handlingClick=!1;var d=0;for(var e in a)this._addLayer(a[e],e,!1,d),d++;d=0;for(var e in b)this._addLayer(b[e],e,!0,d),d++},_addLayer:function(a,b,c,d){a.on("add remove",this._onLayerChange,this);var e=L.stamp(a);this._layers[e]={layer:a,name:b,overlay:c,index:d||0},this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var a,b,c,d,e=[];for(c in this._layers)e.push(this._layers[c]);for(e.sort(function(a,b){return a.index-b.index}),c=0;c<e.length;c++)d=e[c],this._addItem(d),b=b||d.overlay,a=a||!d.overlay;return this._separator.style.display=b&&a?"":"none",this}}}),L.control.layersCustom=function(a,b,c){return new L.Control.LayersCustom(a,b,c)},L.Control.zoomControlCenter=L.Control.Zoom.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out",centerText:'<i class="fa fa-globe"></i>',centerTitle:"Max Extent",center:[0,0]},onAdd:function(a){var b="leaflet-control-zoom",c=L.DomUtil.create("div",b+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,b+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,b+"-out",c,this._zoomOut),this._centerButton=this._createButton(d.centerText,d.centerTitle,b+"-center",c,this._center),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),c},_center:function(){this._map.setView(this.options.center,this._map.getMinZoom())}}),L.control.zoomControlCenter=function(a){return new L.Control.zoomControlCenter(a)},function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){this.url="http://mdimap.us/ArcGIS/rest/services/GeocodeServices/MD.State.MDCascadingLocatorWithZIPCodes/GeocodeServer/findAddressCandidates"}c.prototype.search=function(a,b){var c={SingleLine:a,outSR:4326,f:"pjson"};$.ajax({type:"GET",dataType:"jsonp",data:c,url:this.url,success:function(a){if(a.candidates.length){var c=[a.candidates[0].location.y,a.candidates[0].location.x];b(c)}else b(!1)}})},b.exports=new c},{}],2:[function(a,b){function c(){var a=this;$.get("templates/legend.tmpl",function(b){a.create(b)})}var d=a("./services");c.prototype.create=function(a){this.legendControl=L.control({position:"bottomleft"}),this.legendControl.onAdd=function(){return this._div=L.DomUtil.create("div","info legend"),this._div.className=this._div.className+" hidden-xs",this._div.innerHTML+=a,this._div.firstChild.onmousedown=this._div.firstChild.ondblclick=L.DomEvent.stopPropagation,L.DomEvent.disableClickPropagation(this._div),this._div}},c.prototype.showLidar=function(){$(".legend .status-legend").hide(),$(".legend .lidar-legend").show()},c.prototype.showStatus=function(){$(".legend .lidar-legend").hide(),$(".legend .status-legend").show().html('<img src="img/status.png" />')},c.prototype.update=function(a,b){"elevation"==a?this.elevation(b):"slope"===a?this.slope():"aspect"===a?this.aspect():"hillshade"===a&&this.hillshade},c.prototype.elevation=function(a){$(".legend").show(),$(".legend .lidar-legend img").attr("src","img/legend.jpg"),this.updateElevation(a)},c.prototype.slope=function(){$(".legend").show(),$(".legend .lidar-legend img").attr("src","img/SlopeColorRamp.jpg"),$(this.legendControl._div).find(".legendDesc").html("Slope (Percent Rise)"),$(this.legendControl._div).find(".legendMin").html("0"),$(this.legendControl._div).find(".legendMid").html(""),$(this.legendControl._div).find(".legendMax").html("70")},c.prototype.aspect=function(){$(".legend").show(),$(".legend .lidar-legend img").attr("src","img/AspectColorRamp.jpg"),$(this.legendControl._div).find(".legendDesc").html("Aspect (Azimuth)"),$(this.legendControl._div).find(".legendMin").html("0"),$(this.legendControl._div).find(".legendMid").html(""),$(this.legendControl._div).find(".legendMax").html("360")},c.prototype.hillshade=function(){$(".legend").hide()},c.prototype.updateElevation=function(a){var b,c,e,f=this,g=function(a,b){e=(a+b)/2,a=a.toFixed(2),b=b.toFixed(2),e=e.toFixed(2),$(f.legendControl._div).find(".legendDesc").html("Elevation (m)"),$(f.legendControl._div).find(".legendMin").html(a),$(f.legendControl._div).find(".legendMid").html(e),$(f.legendControl._div).find(".legendMax").html(b)};0==a.length||a==d.statewide[0].identify?(b=1024,c=-51,g(c,b)):($(".legend").css("visibility","visible"),url=d.base_url_rest+a+"?f=pjson",$.getJSON(url,function(a){c=a.minValues[0],b=a.maxValues[0],g(c,b)}))},b.exports=new c},{"./services":6}],3:[function(a,b){function c(){this.lidarGroup=new L.layerGroup,this.markerlayer=new L.LayerGroup,this.center=[38.8,-77.3],this.startZoom=8,this.identifyIcon=L.DivIcon.extend({options:{className:"identify-div-icon",html:"",iconSize:[25,55],iconAnchor:[12,55]}})}var d=a("./Geocoder"),e=a("./Legend"),f=a("./Menu"),g=a("./services"),h=a("async"),i=a("mustache");c.prototype.start=function(){var a=this;$.ajaxSetup({cache:!1}),h.parallel([function(b){$.getJSON("data/mdcntybuffer.geojson",function(c){a.mdcnty=c,b(null)})},function(b){$.getJSON("data/mdbuffer.geojson",function(c){a.mdbuffer=c,b(null)})},function(b){$.getJSON("data/metadata.json",function(c){a.metadata=c,b(null)})},function(b){$.getJSON("data/currentstatus.geojson",function(c){a.currentstatusgeojson=c,b(null)})},function(b){$.get("templates/identifyPopup.tmpl",function(c){a.identifyPopupTemplate=c,b(null)})},function(b){$.getJSON("data/futurestatus.geojson",function(c){a.futurestatusgeojson=c,b(null)})}],function(){$.ajaxSetup({cache:!0}),a.makeMap()})},c.prototype.makeMap=function(){var a=this,b=L.tileLayer("http://{s}.tiles.mapbox.com/v3/esrgc.map-0y6ifl91/{z}/{x}/{y}.png"),c=L.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}/"),d=L.tileLayer("http://{s}.tiles.mapbox.com/v3/esrgc.hd7o0kfk/{z}/{x}/{y}.png"),h=L.tileLayer.wms("http://mdimap.us/arcgis/services/ImageryBaseMapsEarthCover/MD.State.6InchImagery/MapServer/WMSServer",{layers:"0",format:"image/png",transparent:!0,attribution:"MD iMap"}),i=L.tileLayer.wms("http://mdimap.us/arcgis/services/ImageryBaseMapsEarthCover/MD.State.6InchCIRImagery/MapServer/WMSServer",{layers:"0",format:"image/png",transparent:!0,attribution:"MD iMap"});this.baseMaps={Gray:d,"World Imagery":c,"World Imagery with Labels":b,"MD iMap 6 Inch Imagery":h,"MD iMap 6 Inch CIR Imagery":i},this.countylayer=L.geoJson(this.mdcnty),this.mdbuffer=L.geoJson(this.mdbuffer),this.countyoverlay=L.tileLayer("http://{s}.tiles.mapbox.com/v3/esrgc.CountyCompare/{z}/{x}/{y}.png",{pane:"overlayPane",errorTileUrl:"img/emptytile.png"}).on("add",function(){a.countyoverlay.bringToFront()}),this.watershedoverlay=L.tileLayer("http://{s}.tiles.mapbox.com/v3/esrgc.watersheds2/{z}/{x}/{y}.png",{pane:"overlayPane",errorTileUrl:"img/emptytile.png"}).on("add",function(){a.watershedoverlay.bringToFront()});var j="<h6>County: {COUNTY}</h6><h6>Date: {DATE}</h6><h6>Partners: {PROJ_PARTN}</h6><h6>Point spacing: {POINT_SPAC}</h6><h6>Vertical Accuracy: {VERT_ACC}</h6><h6>Vertical Datum: {VERT_DATUM}</h6>",k="<h6>County: {NAME}</h6><h6>Delivery: {DELIVERY}</h6><h6>Acquistion: {ACQ_DETAIL}</h6>",l={2012:"#018571",2011:"#52AA9D",2008:"#A4D0C9",2007:"#F5F5F5",2006:"#DBC4AC",2005:"#C09263",2004:"#A6611A"};this.currentstatus=L.geoJson(this.currentstatusgeojson,{style:function(a){var b=l[a.properties.DATE];return{fillColor:b,weight:1,color:"#333",fillOpacity:1}},onEachFeature:function(a,b){b.bindPopup(L.Util.template(j,a.properties))}}).on("add",function(){a.map.hasLayer(a.futurestatus)&&a.futurestatus.bringToFront(),e.showStatus()}).on("remove",function(){a.map.hasLayer(a.futurestatus)||e.showLidar()}),this.currentstatusgeojson=null,this.futurestatus=L.geoJson(this.futurestatusgeojson,{style:function(){return{fillColor:"#FFD700",weight:1,color:"#333",fillOpacity:1}},onEachFeature:function(a,b){b.bindPopup(L.Util.template(k,a.properties))}}).on("add",function(){a.futurestatus.bringToFront(),e.showStatus()}).on("remove",function(){a.map.hasLayer(a.currentstatus)||e.showLidar()}),this.futurestatusgeojson=null,this.overlays={Counties:this.countyoverlay,Watersheds:this.watershedoverlay,"Future Acquisitions":this.futurestatus,"Most Recent Acquisitions":this.currentstatus},this.map=new L.Map("map",{layers:[d,this.lidarGroup,this.markerlayer],zoomControl:!1,minZoom:8,unloadInvisibleTiles:!0,reuseTiles:!0}),this.map.setView(this.center,this.startZoom,{animate:!1}),a.clicked=!1,this.map.on("click",function(b){return a.clicked?(a.clicked=!1,!1):(a.clicked=!0,void setTimeout(function(){a.clicked&&(a.identify(b.latlng),a.clicked=!1)},400))}),this.map.on("baselayerchange",function(){a.lidarGroup.eachLayer(function(a){a.bringToFront()})});new L.Hash(this.map);L.control.scale().addTo(this.map),$(".leaflet-control-scale").addClass("hidden-xs"),L.control.zoomControlCenter({center:this.map.getCenter()}).addTo(this.map),f.lidarViewer=this,f.menuControl.addTo(this.map),f.addEventListeners(),f.resizeMenu(),e.legendControl.addTo(this.map),L.control.layersCustom(this.baseMaps,this.overlays,{collapsed:!1,click:!1}).addTo(this.map,$(".custom-layer-menu .section-content")[0]),a.activeService=g.statewide[0].service,a.addServiceLayer(this.activeService,g.statewide[0].name,1)},c.prototype.identify=function(a){var b=this,c=new L.marker(a,{icon:new this.identifyIcon({html:'<div class="value"></div>'})});b.markerlayer.addLayer(c),c.bindPopup(L.popup({offset:[0,-20]}).setContent('<img src="img/ajax.gif">')),this.statewide?b.identifyContent(a,function(d){d?(c.getPopup().setContent(d),b._identifyValue(a,function(a,d){var e=b.createIdentifyValueForPopup(a,d);b.insertIdentifyValueIntoPopup(e,c)})):c.getPopup().setContent("No Data")}):b._identifyValue(a,function(d,e){"NoData"===d?c.getPopup().setContent("No Data"):b.identifyContent(a,function(a){if(a){c.getPopup().setContent(a);var f=b.createIdentifyValueForPopup(d,e);b.insertIdentifyValueIntoPopup(f,c)}else c.getPopup().setContent("No Data")})})},c.prototype.insertIdentifyValueIntoPopup=function(a,b){var c=$(b.getPopup().getContent()),d=$("<div/>").html(c).contents();$(d.find(".identify-value")[0]).html(a),b.getPopup().setContent(d[0].outerHTML);var e=new this.identifyIcon({html:'<div class="value">'+a.split("<br>")[0]+"</div>"});b.setIcon(e),$(b._icon).width("auto");var f=$(b._icon).width();$(b._icon).css("margin-left",f/2*-1)},c.prototype.createIdentifyValueForPopup=function(a,b){var c=this,d="";if(b)d="Error loading data";else if("elevation"===c.identifyType||"hillshade"===c.identifyType)if(parseFloat(a)){var e=Math.round(100*parseFloat(a))/100,f=Math.round(3.28084*e*100)/100;e+="m",f+="ft",d=e+"<br>"+f}else d=a;else"slope"===c.identifyType?d=a+"%":"aspect"===c.identifyType&&(d=a+"&deg;");return d},c.prototype.identifyContent=function(a,b){var c=this,d=c.getMetadataFromPoint(a);if(d){for(var e=0;e<g.elevation.length;e++)if(d.County===g.elevation[e].name){var f=c.identifyType;"hillshade"===f&&(f="elevation"),d.identifyType=f.charAt(0).toUpperCase()+f.slice(1),d.lat=a.lat.toFixed(3),d.lng=a.lng.toFixed(3);var h=i.render(c.identifyPopupTemplate,d);b(h)}}else b(!1)},c.prototype.getMetadataFromPoint=function(a){var b=leafletPip.pointInLayer(a,this.mdbuffer);if(!b.length)return!1;var c="";if(this.statewide){var d=leafletPip.pointInLayer(a,this.countylayer);if(!d.length)return!1;c=d[0].feature.properties.name}else c=this.activeCounty;for(var e=0;e<this.metadata.length;e++)if(this.metadata[e].County===c)return this.metadata[e]},c.prototype.addServiceLayer=function(a,b,c){if(this.lidarGroup.clearLayers(),a){this.layertype=a.split("/")[2];"ImageServer"===this.layertype?this.lidarGroup.addLayer(L.tileLayer.wms(g.base_url+a+"/WMSServer",{layers:a.split("/")[1],format:"image/png",transparent:!0,attribution:"ESRGC",opacity:c,pane:"overlayPane"})):"MapServer"===this.layertype&&this.lidarGroup.addLayer(L.tileLayer(g.base_url_rest+a+"/tile/{z}/{y}/{x}/",{errorTileUrl:"img/emptytile.png",opacity:c})),this.activeService=a,this.identifyService=this.setIdentifyService(b),e.update(this.identifyType,this.identifyService),this.lidarGroup.eachLayer(function(a){a.bringToFront()})}},c.prototype.zoomToCounty=function(a){var b=this;this.countylayer.eachLayer(function(c){c.feature.properties.name===a&&b.map.fitBounds(c.getBounds(),{animate:!1})})},c.prototype.zoomToState=function(){this.map.setView(this.center,this.startZoom,{animate:!1})},c.prototype.setIdentifyService=function(a){if(a.indexOf("Statewide")>=0?(this.statewide=!0,this.zoomToState()):(this.statewide=!1,this.activeCounty=a,this.zoomToCounty(a)),this.activeService.indexOf("slope")>=0?(this.identifyType="slope",this.statewide=!0):this.activeService.indexOf("aspect")>=0?(this.identifyType="aspect",this.statewide=!0):this.activeService.indexOf("hillshade")>=0?(this.identifyType="hillshade",this.statewide=!0):this.identifyType="elevation","elevation"!==this.identifyType||this.statewide){for(var b=0;b<g.statewide.length;b++)if(g.statewide[b].type===this.identifyType)return g.statewide[b].identify}else for(var b=0;b<g[this.identifyType].length;b++)if(g[this.identifyType][b].name===a)return g[this.identifyType][b].identify},c.prototype._identifyValue=function(a,b){var c=this,d=g.base_url_rest+c.identifyService+"/identify",e={geometryType:"esriGeometryPoint",geometry:'{"x":'+a.lng+',"y":'+a.lat+',"spatialReference":{"wkid":4265}}',f:"json",returnGeometry:!1,returnCatalogItems:!1};$.ajax({url:d,type:"GET",data:e,dataType:"jsonp"}).done(function(a){var c=a.value;b(c,null)}).fail(function(){b(null,"Error")})},c.prototype.geocodeSubmit=function(){var a=this,b=$("#geocode-input").val();d.search(b,function(b){if(b){$(".geocode-error").html(""),a.map.setView(b,13);var c=L.latLng(b);a.identify(c)}else $(".geocode-error").html("<p>Address Not Found</p>")})},b.exports=new c},{"./Geocoder":1,"./Legend":2,"./Menu":4,"./services":6,async:7,mustache:9}],4:[function(a,b){function c(){var a=this;$.get("templates/menu.tmpl",function(b){a.create(b)})}var d=a("mustache"),e=a("./services");c.prototype.create=function(a){var b=this;this.menuControl=L.control({position:"topright"}),this.menuControl.onAdd=function(){return this._div=L.DomUtil.create("div","info layerMenu"),this._div.innerHTML=d.render(a,e),this._div.firstChild.onmousedown=this._div.firstChild.ondblclick=L.DomEvent.stopPropagation,$($(this._div).find("#statewide option").get(1)).prop("selected",!0),L.DomEvent.disableClickPropagation(this._div),L.DomEvent.addListener(this._div,"mouseenter",function(){b.lidarViewer.map.scrollWheelZoom.disable()}),L.DomEvent.addListener(this._div,"mouseleave",function(){b.lidarViewer.map.scrollWheelZoom.enable()}),this._div}},c.prototype.resizeMenu=function(){$(".layerMenu .options").css("max-height",$(window).height()-55)},c.prototype.addEventListeners=function(){var a=this;$(".opacity-slider").slider({min:0,max:100,value:100,slide:function(b,c){var d=c.value/100;a.lidarViewer.lidarGroup.eachLayer(function(a){a.setOpacity(d)})}}),$(window).resize(function(){a.resizeMenu()}),$(this.menuControl._div).on("change",".services",function(){var b=$(this).val(),c=$(this).find("option:selected").text(),d=$(".opacity-slider").slider("value")/100;a.lidarViewer.addServiceLayer(b,c,d),$(".services").not(this).each(function(){$($(this).find("option").get(0)).prop("selected",!0)})}),$(this.menuControl._div).on("change","#counties",function(){var b=$(this).val();a.lidarViewer.countylayer.eachLayer(function(c){c.feature.properties.name===b&&a.lidarViewer.map.fitBounds(c.getBounds())})}),$(this.menuControl._div).on("keydown","#geocode-input",function(b){13===b.keyCode&&a.lidarViewer.geocodeSubmit()}),$(this.menuControl._div).on("click",".geocode",function(){a.lidarViewer.geocodeSubmit()}),$(this.menuControl._div).on("click",".clearmarkers",function(){a.lidarViewer.markerlayer.clearLayers()}),$(this.menuControl._div).on("click",".toggle",function(){$(".layerMenu").hasClass("closed")?($(".layerMenu").removeClass("closed"),$(this).find("i").removeClass("fa-bars"),$(this).find("i").addClass("fa-toggle-right")):($(".layerMenu").addClass("closed"),$(this).find("i").removeClass("fa-toggle-right"),$(this).find("i").addClass("fa-bars")),$(".options").toggle(),$(".layerMenu .title h4").toggle()})},b.exports=new c},{"./services":6,mustache:9}],5:[function(a){window.lidarViewer=a("./LidarViewer"),$(function(){lidarViewer.start()})},{"./LidarViewer":3}],6:[function(a,b){b.exports={base_url:"http://lidar.salisbury.edu/ArcGIS/services/",base_url_rest:"http://lidar.salisbury.edu/ArcGIS/rest/services/",statewide:[{name:"Statewide Shaded Relief",service:"Statewide/MD_statewide_shadedRelief_m/MapServer",identify:"Elevation/MD_statewide_dem_m/ImageServer",type:"elevation"},{name:"Statewide Aspect",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_statewide_aspect_m/ImageServer",type:"aspect"},{name:"Statewide Slope",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_statewide_slope_m/ImageServer",type:"slope"},{name:"Statewide Hillshade",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_statewide_dem_m/ImageServer",type:"hillshade"}],elevation:[{name:"Allegany",service:"ShadedRelief/MD_allegany_shadedRelief/MapServer",identify:"Elevation/MD_allegany_dem_m/ImageServer"},{name:"Anne Arundel",service:"ShadedRelief/MD_annearundel_shadedRelief/MapServer",identify:"Elevation/MD_annearundel_dem_m/ImageServer"},{name:"Baltimore",service:"ShadedRelief/MD_baltimore_shadedRelief/MapServer",identify:"Elevation/MD_baltimore_dem_m/ImageServer"},{name:"Baltimore City",service:"ShadedRelief/MD_baltimorecity_shadedRelief/MapServer",identify:"Elevation/MD_baltimorecity_dem_m/ImageServer"},{name:"Calvert",service:"ShadedRelief/MD_calvert_shadedRelief/MapServer",identify:"Elevation/MD_calvert_dem_m/ImageServer"},{name:"Caroline",service:"ShadedRelief/MD_caroline_shadedRelief/MapServer",identify:"Elevation/MD_caroline_dem_m/ImageServer"},{name:"Carroll",service:"ShadedRelief/MD_carroll_shadedRelief/MapServer",identify:"Elevation/MD_carroll_dem_m/ImageServer"},{name:"Cecil",service:"ShadedRelief/MD_cecil_shadedRelief/MapServer",identify:"Elevation/MD_cecil_dem_m/ImageServer"},{name:"Charles",service:"ShadedRelief/MD_charles_shadedRelief/MapServer",identify:"Elevation/MD_charles_dem_m/ImageServer"},{name:"Dorchester",service:"ShadedRelief/MD_dorchester_shadedRelief/MapServer",identify:"Elevation/MD_dorchester_dem_m/ImageServer"},{name:"Frederick",service:"ShadedRelief/MD_frederick_shadedRelief/MapServer",identify:"Elevation/MD_frederick_dem_m/ImageServer"},{name:"Garrett",service:"ShadedRelief/MD_garrett_shadedRelief/MapServer",identify:"Elevation/MD_garrett_dem_m/ImageServer"},{name:"Harford",service:"ShadedRelief/MD_harford_shadedRelief/MapServer",identify:"Elevation/MD_harford_dem_m/ImageServer"},{name:"Howard",service:"ShadedRelief/MD_howard_shadedRelief/MapServer",identify:"Elevation/MD_howard_dem_m/ImageServer"},{name:"Kent",service:"ShadedRelief/MD_kent_shadedRelief/MapServer",identify:"Elevation/MD_kent_dem_m/ImageServer"},{name:"Montgomery",service:"ShadedRelief/MD_montgomery_shadedRelief/MapServer",identify:"Elevation/MD_montgomery_dem_m/ImageServer"},{name:"Prince George's",service:"ShadedRelief/MD_princegeorges_shadedRelief/MapServer",identify:"Elevation/MD_princegeorges_dem_m/ImageServer"},{name:"Queen Anne's",service:"ShadedRelief/MD_queenannes_shadedRelief/MapServer",identify:"Elevation/MD_queenannes_demStretched_m/ImageServer"},{name:"Somerset",service:"Elevation/MD_somerset_demStretched_m/ImageServer",identify:"Elevation/MD_somerset_demStretched_m/ImageServer"},{name:"St. Mary's",service:"Elevation/MD_stmarys_demStretched_m/ImageServer",identify:"Elevation/MD_stmarys_demStretched_m/ImageServer"},{name:"Talbot",service:"Elevation/MD_talbot_demStretched_m/ImageServer",identify:"Elevation/MD_talbot_demStretched_m/ImageServer"},{name:"Washington",service:"Elevation/MD_washington_demStretched_m/ImageServer",identify:"Elevation/MD_washington_demStretched_m/ImageServer"},{name:"Washington, D.C.",service:"Elevation/MD_washingtonDC_demStretched_m/ImageServer",identify:"Elevation/MD_washingtonDC_demStretched_m/ImageServer"},{name:"Wicomico",service:"Elevation/MD_wicomico_demStretched_m/ImageServer",identify:"Elevation/MD_wicomico_demStretched_m/ImageServer"},{name:"Worcester",service:"Elevation/MD_worcester_demStretched_m/ImageServer",identify:"Elevation/MD_worcester_demStretched_m/ImageServer"}],slope:[{name:"Allegany",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_allegany_slope_m/ImageServer"},{name:"Anne Arundel",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_annearundel_slope_m/ImageServer"},{name:"Baltimore",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_baltimore_slope_m/ImageServer"},{name:"Baltimore City",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_baltimorecity_slope_m/ImageServer"},{name:"Calvert",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_calvert_slope_m/ImageServer"},{name:"Caroline",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_caroline_slope_m/ImageServer"},{name:"Carroll",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_carroll_slope_m/ImageServer"},{name:"Cecil",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_cecil_slope_m/ImageServer"},{name:"Charles",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_charles_slope_m/ImageServer"},{name:"Dorchester",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_dorchester_slope_m/ImageServer"},{name:"Frederick",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_frederick_slope_m/ImageServer"},{name:"Garrett",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_garrett_slope_m/ImageServer"},{name:"Harford",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_harford_slope_m/ImageServer"},{name:"Howard",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_howard_slope_m/ImageServer"},{name:"Kent",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_kent_slope_m/ImageServer"},{name:"Montgomery",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_montgomery_slope_m/ImageServer"},{name:"Prince George's",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_princegeorges_slope_m/ImageServer"},{name:"Queen Anne's",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_queenannes_slope_m/ImageServer"},{name:"Somerset",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_somerset_slope_m/ImageServer"},{name:"St. Mary's",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_stmarys_slope_m/ImageServer"},{name:"Talbot",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_talbot_slope_m/ImageServer"},{name:"Washington",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_washington_slope_m/ImageServer"},{name:"Washington, D.C.",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_washingtonDC_slope_m/ImageServer"},{name:"Wicomico",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_wicomico_slope_m/ImageServer"},{name:"Worcester",service:"Statewide/MD_statewide_slope_m/MapServer",identify:"Elevation/MD_worcester_slope_m/ImageServer"}],aspect:[{name:"Allegany",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_allegany_aspect_m/ImageServer"},{name:"Anne Arundel",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_annearundel_aspect_m/ImageServer"},{name:"Baltimore",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_baltimore_aspect_m/ImageServer"},{name:"Baltimore City",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_baltimorecity_aspect_m/ImageServer"},{name:"Calvert",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_calvert_aspect_m/ImageServer"},{name:"Caroline",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_caroline_aspect_m/ImageServer"},{name:"Carroll",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_carroll_aspect_m/ImageServer"},{name:"Cecil",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_cecil_aspect_m/ImageServer"},{name:"Charles",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_charles_aspect_m/ImageServer"},{name:"Dorchester",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_dorchester_aspect_m/ImageServer"},{name:"Frederick",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_frederick_aspect_m/ImageServer"},{name:"Garrett",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_garrett_aspect_m/ImageServer"},{name:"Harford",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_harford_aspect_m/ImageServer"},{name:"Howard",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_howard_aspect_m/ImageServer"},{name:"Kent",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_kent_aspect_m/ImageServer"},{name:"Montgomery",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_montgomery_aspect_m/ImageServer"},{name:"Prince George's",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_princegeorges_aspect_m/ImageServer"},{name:"Queen Anne's",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_queenannes_aspect_m/ImageServer"},{name:"Somerset",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_somerset_aspect_m/ImageServer"},{name:"St. Mary's",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_stmarys_aspect_m/ImageServer"},{name:"Talbot",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_talbot_aspect_m/ImageServer"},{name:"Washington",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_washington_aspect_m/ImageServer"},{name:"Washington, D.C.",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_washingtonDC_aspect_m/ImageServer"},{name:"Wicomico",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_wicomico_aspect_m/ImageServer"},{name:"Worcester",service:"Statewide/MD_statewide_aspect_m/MapServer",identify:"Elevation/MD_worcester_aspect_m/ImageServer"}],hillshade:[{name:"Allegany",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_allegany_hillshade_m/ImageServer"},{name:"Anne Arundel",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_annearundel_hillshade_m/ImageServer"},{name:"Baltimore",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_baltimore_hillshade_m/ImageServer"},{name:"Baltimore City",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_baltimorecity_hillshade_m/ImageServer"},{name:"Calvert",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_calvert_hillshade_m/ImageServer"},{name:"Caroline",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_caroline_hillshade_m/ImageServer"},{name:"Carroll",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_carroll_hillshade_m/ImageServer"},{name:"Cecil",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_cecil_hillshade_m/ImageServer"},{name:"Charles",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_charles_hillshade_m/ImageServer"},{name:"Dorchester",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_dorchester_hillshade_m/ImageServer"},{name:"Frederick",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_frederick_hillshade_m/ImageServer"},{name:"Garrett",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_garrett_hillshade_m/ImageServer"},{name:"Harford",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_harford_hillshade_m/ImageServer"},{name:"Howard",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_howard_hillshade_m/ImageServer"},{name:"Kent",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_kent_hillshade_m/ImageServer"},{name:"Montgomery",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_montgomery_hillshade_m/ImageServer"},{name:"Prince George's",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_princegeorges_hillshade_m/ImageServer"},{name:"Queen Anne's",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_queenannes_hillshade_m/ImageServer"},{name:"Somerset",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_somerset_hillshade_m/ImageServer"},{name:"St. Mary's",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_stmarys_hillshade_m/ImageServer"},{name:"Talbot",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_talbot_hillshade_m/ImageServer"},{name:"Washington",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_washington_hillshade_m/ImageServer"},{name:"Washington, D.C.",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_washingtonDC_hillshade_m/ImageServer"},{name:"Wicomico",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_wicomico_hillshade_m/ImageServer"},{name:"Worcester",service:"Statewide/MD_statewide_hillshade_m/MapServer",identify:"Elevation/MD_worcester_hillshade_m/ImageServer"}]}
},{}],7:[function(a,b){(function(a){!function(){function c(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(d,arguments)}}var d,e,f={};d=this,null!=d&&(e=d.async),f.noConflict=function(){return d.async=e,f};var g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof a&&a.nextTick?(f.nextTick=a.nextTick,f.setImmediate="undefined"!=typeof setImmediate?function(a){setImmediate(a)}:f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(a,b,d){if(d=d||function(){},!a.length)return d();var e=0;g(a,function(f){b(f,c(function(b){b?(d(b),d=function(){}):(e+=1,e>=a.length&&d(null))}))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},o=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};f.map=l(o),f.mapSeries=n(o),f.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=h(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=l(q),f.filterSeries=n(q),f.select=f.filter,f.selectSeries=f.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=l(r),f.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};f.detect=l(s),f.detectSeries=n(s),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=j(a);if(!c.length)return b(null);var d={},e=[],h=function(a){e.unshift(a)},k=function(a){for(var b=0;b<e.length;b+=1)if(e[b]===a)return void e.splice(b,1)},l=function(){g(e.slice(0),function(a){a()})};h(function(){j(d).length===c.length&&(b(null,d),b=function(){})}),g(c,function(c){var e=a[c]instanceof Function?[a[c]]:a[c],m=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var h={};g(j(d),function(a){h[a]=d[a]}),h[c]=e,b(a,h),b=function(){}}else d[c]=e,f.setImmediate(l)},n=e.slice(0,Math.abs(e.length-1))||[],o=function(){return i(n,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(o())e[e.length-1](m,d);else{var p=function(){o()&&(k(p),e[e.length-1](m,d))};h(p)}})},f.waterfall=function(a,b){if(b=b||function(){},a.constructor!==Array){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();e.push(g?d(g):b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){t({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},f.series=function(a,b){if(b=b||function(){},a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=l(u),f.concatSeries=n(u),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void f.whilst(a,b,c)}):c()},f.doWhilst=function(a,b,c){a(function(d){return d?c(d):void(b()?f.doWhilst(a,b,c):c())})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void f.until(a,b,c)})},f.doUntil=function(a,b,c){a(function(d){return d?c(d):void(b()?c():f.doUntil(a,b,c))})},f.queue=function(a,b){function d(a,c,d,e){c.constructor!==Array&&(c=[c]),g(c,function(c){var g={data:c,callback:"function"==typeof e?e:null};d?a.tasks.unshift(g):a.tasks.push(g),a.saturated&&a.tasks.length===b&&a.saturated(),f.setImmediate(a.process)})}void 0===b&&(b=1);var e=0,h={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,push:function(a,b){d(h,a,!1,b)},unshift:function(a,b){d(h,a,!0,b)},process:function(){if(e<h.concurrency&&h.tasks.length){var b=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty(),e+=1;var d=function(){e-=1,b.callback&&b.callback.apply(b,arguments),h.drain&&h.tasks.length+e===0&&h.drain(),h.process()},f=c(d);a(b.data,f)}},length:function(){return h.tasks.length},running:function(){return e}};return h},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]),g(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function i(){if(!c){if(0===d.length)return void(e.drain&&e.drain());var f="number"==typeof b?d.splice(0,b):d.splice(0),j=h(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(j,function(){c=!1;var a=arguments;g(f,function(b){b.callback&&b.callback.apply(null,a)}),i()})}},length:function(){return d.length},running:function(){return c}};return e};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};f.log=v("log"),f.dir=v("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=l(w),f.applyEachSeries=n(w),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof define&&define.amd?define([],function(){return f}):"undefined"!=typeof b&&b.exports?b.exports=f:d.async=f}()}).call(this,a("/Users/fsrowe/Documents/Web/maps/md-lidar-viewer/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/fsrowe/Documents/Web/maps/md-lidar-viewer/node_modules/grunt-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":8}],8:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],9:[function(a,b,c){!function(a,b){if("object"==typeof c&&c)b(c);else{var d={};b(d),"function"==typeof define&&define.amd?define(d):a.Mustache=d}}(this,function(a){function b(a,b){return t.call(a,b)}function c(a){return!b(p,a)}function d(a){return"function"==typeof a}function e(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function f(a){return String(a).replace(/[&<>"'\/]/g,function(a){return w[a]})}function g(a){if(!v(a)||2!==a.length)throw new Error("Invalid tags: "+a);return[new RegExp(e(a[0])+"\\s*"),new RegExp("\\s*"+e(a[1]))]}function h(b,d){function f(){if(A&&!B)for(;z.length;)delete y[z.pop()];else z=[];A=!1,B=!1}d=d||a.tags,b=b||"","string"==typeof d&&(d=d.split(o));for(var h,l,m,p,t,u,v=g(d),w=new k(b),x=[],y=[],z=[],A=!1,B=!1;!w.eos();){if(h=w.pos,m=w.scanUntil(v[0]))for(var C=0,D=m.length;D>C;++C)p=m.charAt(C),c(p)?z.push(y.length):B=!0,y.push(["text",p,h,h+1]),h+=1,"\n"===p&&f();if(!w.scan(v[0]))break;if(A=!0,l=w.scan(s)||"name",w.scan(n),"="===l?(m=w.scanUntil(q),w.scan(q),w.scanUntil(v[1])):"{"===l?(m=w.scanUntil(new RegExp("\\s*"+e("}"+d[1]))),w.scan(r),w.scanUntil(v[1]),l="&"):m=w.scanUntil(v[1]),!w.scan(v[1]))throw new Error("Unclosed tag at "+w.pos);if(t=[l,m,h,w.pos],y.push(t),"#"===l||"^"===l)x.push(t);else if("/"===l){if(u=x.pop(),!u)throw new Error('Unopened section "'+m+'" at '+h);if(u[1]!==m)throw new Error('Unclosed section "'+u[1]+'" at '+h)}else"name"===l||"{"===l||"&"===l?B=!0:"="===l&&(v=g(d=m.split(o)))}if(u=x.pop())throw new Error('Unclosed section "'+u[1]+'" at '+w.pos);return j(i(y))}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function j(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;h>g;++g)switch(b=a[g],b[0]){case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function k(a){this.string=a,this.tail=a,this.pos=0}function l(a,b){this.view=null==a?{}:a,this.cache={".":this.view},this.parent=b}function m(){this.cache={}}var n=/\s*/,o=/\s+/,p=/\S/,q=/\s*=/,r=/\s*\}/,s=/#|\^|\/|>|\{|&|=|!/,t=RegExp.prototype.test,u=Object.prototype.toString,v=Array.isArray||function(a){return"[object Array]"===u.call(a)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(a){var b=this.tail.match(a);if(b&&0===b.index){var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c}return""},k.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},l.prototype.push=function(a){return new l(a,this)},l.prototype.lookup=function(a){var b;if(a in this.cache)b=this.cache[a];else{for(var c=this;c;){if(a.indexOf(".")>0){b=c.view;for(var e=a.split("."),f=0;null!=b&&f<e.length;)b=b[e[f++]]}else b=c.view[a];if(null!=b)break;c=c.parent}this.cache[a]=b}return d(b)&&(b=b.call(this.view)),b},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=h(a,b)),d},m.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof l?b:new l(b);return this.renderTokens(d,e,c,a)},m.prototype.renderTokens=function(b,c,e,f){function g(a){return k.render(a,c,e)}for(var h,i,j="",k=this,l=0,m=b.length;m>l;++l)switch(h=b[l],h[0]){case"#":if(i=c.lookup(h[1]),!i)continue;if(v(i))for(var n=0,o=i.length;o>n;++n)j+=this.renderTokens(h[4],c.push(i[n]),e,f);else if("object"==typeof i||"string"==typeof i)j+=this.renderTokens(h[4],c.push(i),e,f);else if(d(i)){if("string"!=typeof f)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,f.slice(h[3],h[5]),g),null!=i&&(j+=i)}else j+=this.renderTokens(h[4],c,e,f);break;case"^":i=c.lookup(h[1]),(!i||v(i)&&0===i.length)&&(j+=this.renderTokens(h[4],c,e,f));break;case">":if(!e)continue;i=d(e)?e(h[1]):e[h[1]],null!=i&&(j+=this.renderTokens(this.parse(i),c,e,i));break;case"&":i=c.lookup(h[1]),null!=i&&(j+=i);break;case"name":i=c.lookup(h[1]),null!=i&&(j+=a.escape(i));break;case"text":j+=h[1]}return j},a.name="mustache.js",a.version="0.8.1",a.tags=["{{","}}"];var x=new m;a.clearCache=function(){return x.clearCache()},a.parse=function(a,b){return x.parse(a,b)},a.render=function(a,b,c){return x.render(a,b,c)},a.to_html=function(b,c,e,f){var g=a.render(b,c,e);return d(f)?void f(g):g},a.escape=f,a.Scanner=k,a.Context=l,a.Writer=m})},{}]},{},[5]);